<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Assembly Programming - Debugging | CS 131 - Computer Organization</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Running your code step-by-step during development allows you to see what each line of code is doing. This allows you to verify each line does what you intended it to do">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.cae50936.css" as="style"><link rel="preload" href="/assets/js/app.55f9c1c1.js" as="script"><link rel="preload" href="/assets/js/2.23fe0875.js" as="script"><link rel="preload" href="/assets/js/28.a80cbb66.js" as="script"><link rel="preload" href="/assets/js/5.f5b36fc3.js" as="script"><link rel="preload" href="/assets/js/6.316a9004.js" as="script"><link rel="prefetch" href="/assets/js/10.5bd32d4f.js"><link rel="prefetch" href="/assets/js/11.a829b5f9.js"><link rel="prefetch" href="/assets/js/12.7308925a.js"><link rel="prefetch" href="/assets/js/13.a6068e34.js"><link rel="prefetch" href="/assets/js/14.4d64f870.js"><link rel="prefetch" href="/assets/js/15.6f8be927.js"><link rel="prefetch" href="/assets/js/16.b35aa036.js"><link rel="prefetch" href="/assets/js/17.5d5c29d8.js"><link rel="prefetch" href="/assets/js/18.29b1bbdd.js"><link rel="prefetch" href="/assets/js/19.fb8b109d.js"><link rel="prefetch" href="/assets/js/20.6a93413b.js"><link rel="prefetch" href="/assets/js/21.38653396.js"><link rel="prefetch" href="/assets/js/22.ce0d711f.js"><link rel="prefetch" href="/assets/js/23.ef090e13.js"><link rel="prefetch" href="/assets/js/24.e3d5246b.js"><link rel="prefetch" href="/assets/js/25.76357b1a.js"><link rel="prefetch" href="/assets/js/26.d29a0ca5.js"><link rel="prefetch" href="/assets/js/27.a18b74d2.js"><link rel="prefetch" href="/assets/js/29.aa187075.js"><link rel="prefetch" href="/assets/js/3.799b0ae7.js"><link rel="prefetch" href="/assets/js/30.cc45cc20.js"><link rel="prefetch" href="/assets/js/31.527f073f.js"><link rel="prefetch" href="/assets/js/32.ec7dccd4.js"><link rel="prefetch" href="/assets/js/33.8aaeb412.js"><link rel="prefetch" href="/assets/js/34.def8ebe7.js"><link rel="prefetch" href="/assets/js/35.9565748e.js"><link rel="prefetch" href="/assets/js/36.1a7d8c71.js"><link rel="prefetch" href="/assets/js/37.540f1705.js"><link rel="prefetch" href="/assets/js/38.d11a2905.js"><link rel="prefetch" href="/assets/js/39.cd120c63.js"><link rel="prefetch" href="/assets/js/4.9b335f76.js"><link rel="prefetch" href="/assets/js/40.fbad6832.js"><link rel="prefetch" href="/assets/js/41.3f63dcaf.js"><link rel="prefetch" href="/assets/js/42.631e9065.js"><link rel="prefetch" href="/assets/js/43.fdc7fc56.js"><link rel="prefetch" href="/assets/js/44.62ee35b0.js"><link rel="prefetch" href="/assets/js/45.53220787.js"><link rel="prefetch" href="/assets/js/46.d56d5c68.js"><link rel="prefetch" href="/assets/js/47.96782874.js"><link rel="prefetch" href="/assets/js/48.8e3c02f0.js"><link rel="prefetch" href="/assets/js/49.a96cf87b.js"><link rel="prefetch" href="/assets/js/50.2843ced3.js"><link rel="prefetch" href="/assets/js/51.332d1218.js"><link rel="prefetch" href="/assets/js/52.73dc97c1.js"><link rel="prefetch" href="/assets/js/53.ba44c0d0.js"><link rel="prefetch" href="/assets/js/54.07834be9.js"><link rel="prefetch" href="/assets/js/55.894d16a1.js"><link rel="prefetch" href="/assets/js/56.ceecc893.js"><link rel="prefetch" href="/assets/js/57.70cc71eb.js"><link rel="prefetch" href="/assets/js/58.b7a964f3.js"><link rel="prefetch" href="/assets/js/59.01d8fa5a.js"><link rel="prefetch" href="/assets/js/60.11a0716f.js"><link rel="prefetch" href="/assets/js/61.9b586efb.js"><link rel="prefetch" href="/assets/js/62.826d95d9.js"><link rel="prefetch" href="/assets/js/63.cb80a864.js"><link rel="prefetch" href="/assets/js/64.159fec77.js"><link rel="prefetch" href="/assets/js/65.054924e7.js"><link rel="prefetch" href="/assets/js/66.74a29ade.js"><link rel="prefetch" href="/assets/js/67.0c6949a4.js"><link rel="prefetch" href="/assets/js/68.6c20ed63.js"><link rel="prefetch" href="/assets/js/69.4e4578cc.js"><link rel="prefetch" href="/assets/js/7.9b806e34.js"><link rel="prefetch" href="/assets/js/70.407cd69d.js"><link rel="prefetch" href="/assets/js/71.8439dfbb.js"><link rel="prefetch" href="/assets/js/72.b6273b33.js"><link rel="prefetch" href="/assets/js/73.6eb60eae.js"><link rel="prefetch" href="/assets/js/74.131ad3af.js"><link rel="prefetch" href="/assets/js/75.735a0cf8.js"><link rel="prefetch" href="/assets/js/8.1e607f02.js"><link rel="prefetch" href="/assets/js/9.e8afeaed.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cae50936.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/CourseLogo.png" alt="CS 131 - Computer Organization" class="logo"> <span class="site-name can-hide">CS 131 - Computer Organization</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/etext/" class="nav-link">
  E-Text
</a></div><div class="nav-item"><a href="/LC3/" class="nav-link">
  LC3
</a></div><div class="nav-item"><a href="/CourseInformation/" class="nav-link">
  Course Info
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  VP Guide
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/etext/" class="nav-link">
  E-Text
</a></div><div class="nav-item"><a href="/LC3/" class="nav-link">
  LC3
</a></div><div class="nav-item"><a href="/CourseInformation/" class="nav-link">
  Course Info
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  VP Guide
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Text</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/EText/" aria-current="page" class="sidebar-link">CS-131 Computer Organization</a></li><li><a href="/EText/Introduction/" class="sidebar-link">Introduction to Computer Organization</a></li><li><a href="/EText/Foundations/" class="sidebar-link">Foundations</a></li><li><a href="/EText/NumberSystems/" class="sidebar-link">Number Systems</a></li><li><a href="/EText/LogicAndDigitalCircuits/" class="sidebar-link">Logic and Digital Circuits</a></li><li><a href="/EText/AssemblyProgramming/" aria-current="page" class="sidebar-link">Assembly Programming</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frontmatter-title"><a href="#frontmatter-title" class="header-anchor">#</a> Assembly Programming - Debugging</h1> <h4 id="frontmatter-description"><a href="#frontmatter-description" class="header-anchor">#</a> Running your code step-by-step during development allows you to see what each line of code is doing. This allows you to verify each line does what you intended it to do</h4> <div class="key-concepts" data-v-6393cc7e><table style="border:none" data-v-6393cc7e><tr data-v-6393cc7e><td class="border" style="10%" data-v-6393cc7e><p class="header" data-v-6393cc7e>Key Concepts</p></td> <table cellspacing="0" cellpadding="0" class="inner" data-v-6393cc7e><tr class="inner" data-v-6393cc7e><td class="inner" data-v-6393cc7e><p id="Debugging" class="concept" data-v-6393cc7e>Debugging</p></td> <td class="inner" data-v-6393cc7e><p id="Debugging" class="details" data-v-6393cc7e>The process of examining and running code in a controlled manner to find a problem or error in software</p></td></tr><tr class="inner" data-v-6393cc7e><td class="inner" data-v-6393cc7e><p id="Stepping Through Code" class="concept" data-v-6393cc7e>Stepping Through Code</p></td> <td class="inner" data-v-6393cc7e><p id="Stepping Through Code" class="details" data-v-6393cc7e>Allows a developer to stop the program execute at any line to examine the conditions before a line is executed</p></td></tr><tr class="inner" data-v-6393cc7e><td class="inner" data-v-6393cc7e><p id="Stepping Over a Line of Code" class="concept" data-v-6393cc7e>Stepping Over a Line of Code</p></td> <td class="inner" data-v-6393cc7e><p id="Stepping Over a Line of Code" class="details" data-v-6393cc7e>Allows a developer to execute 1 line of code to examine what that line changes</p></td></tr><tr class="inner" data-v-6393cc7e><td class="inner" data-v-6393cc7e><p id="Breakpoint" class="concept" data-v-6393cc7e>Breakpoint</p></td> <td class="inner" data-v-6393cc7e><p id="Breakpoint" class="details" data-v-6393cc7e>A debugging tool that sets a point at which the execution will stop, allowing a developer to quickly execute lines of code that are known to be correct</p></td></tr></table></tr></table></div> <p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#bug-types">Bug Types</a><ul><li><a href="#syntactic">Syntactic</a></li><li><a href="#functional">Functional</a></li><li><a href="#program-flow">Program Flow</a></li></ul></li><li><a href="#lc-3-debugging-tools">LC-3 Debugging Tools</a><ul><li><a href="#the-program-counter">The Program Counter</a></li><li><a href="#execution-control">Execution Control</a></li><li><a href="#breakpoints">Breakpoints</a></li><li><a href="#manipulating-registers">Manipulating Registers</a></li><li><a href="#correcting-bug-types">Correcting Bug Types</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>While developing software, a developer can run a program and note the results</p> <p>Results may be:</p> <ul><li>Ran to completion and produced the correct results</li> <li>Ran to completion and produced the wrong results</li> <li>Ran to a point and <em>crashed</em></li> <li>Appears to run and get stuck, not producing any output and not terminating itself</li></ul> <p>In all but the first case, the output and/or behavior of the program may or may not help the developer find the <em>bug</em> in the program</p> <blockquote><p>The term ‘bug” as a problem related to computer science comes from a problem discovered in 1947. Grace Murray Hopper, computer engineer, found a moth that shorted out a relay contact (https://www.computerhistory.org/tdih/september/9/) . Fortunately, more computer ‘bugs’ today are usually software-related, and less messy to clean up</p></blockquote> <p>Fortunately, developers of the past realized more was needed to help find and remove bugs. Today, modern Integrated Development Environments (IDEs), such as IntelliJ, Eclipse, Visual Studio Code, and even the LC-3 Simulate environment provide debugging tools that provide a deeper view of what is happening while a program is executing</p> <p>This unit covers LC-3-specific debugging topics, but the following terms and concepts are fairly standard. You will likely find these tools somewhere in your IDE</p> <h2 id="bug-types"><a href="#bug-types" class="header-anchor">#</a> Bug Types</h2> <p>Bugs in assembly code will typically be 1 of a couple of types. Each type has different ways to detect, evaluate, and fix</p> <h3 id="syntactic"><a href="#syntactic" class="header-anchor">#</a> Syntactic</h3> <p>These errors are caused by incorrect use of the language/ISA instruction and/or operands. Spelling a command wrong or using the incorrect number of parameters/operands will result in this type of error</p> <table><thead><tr><th>Process</th> <th>Action</th></tr></thead> <tbody><tr><td>Detect</td> <td>Assembler error. You will see 1 or more error messages after attempting to assemble your code. In some cases, the error may be in the line immediately before or after the line reported in the error</td></tr> <tr><td>Evaluate</td> <td>Review the error message and evaluate the instruction at the line number called out in the error. Review documentation for the instruction opcode and number/format of operands</td></tr> <tr><td>Fix</td> <td>Modify code with correct syntax for problem instruction</td></tr></tbody></table> <p><img src="/images/AssemblyProgramming/Debugging/Syntactic.png" alt="Syntactic Bug"></p> <div class="question-mc" data-v-133aabb1><table class="questionTable" style="width: 100%" data-v-133aabb1><tr data-v-133aabb1><p class="header" data-v-133aabb1><b data-v-133aabb1>Quick Question:</b> Choose One</p> <p class="question" data-v-133aabb1>What is the problem in the above code</p></tr> <tr data-v-133aabb1><td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="A" id="A" data-v-133aabb1>
          All the blank spaces in the code
          <span class="checkmark" data-v-133aabb1></span></label></td> <td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="B" id="B" data-v-133aabb1>
          @ symbol is not part of the LC-3 ISA
          <span class="checkmark" data-v-133aabb1></span></label></td></tr> <tr data-v-133aabb1><td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="C" id="C" data-v-133aabb1>
          Using '#' and '@' in the same program
          <span class="checkmark" data-v-133aabb1></span></label></td> <td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="D" id="D" data-v-133aabb1>
          'Mainloop' is empty
          <span class="checkmark" data-v-133aabb1></span></label></td></tr> <!----> <!----></table></div> <h3 id="functional"><a href="#functional" class="header-anchor">#</a> Functional</h3> <p>In this type of error, the assembler does not show any errors. The program may or may not run to completion. Instructions did not execute as expected. The output is absent, incorrect, or possibly “garbage”</p> <table><thead><tr><th>Process</th> <th>Action</th></tr></thead> <tbody><tr><td>Detect</td> <td>Program will start, but may then terminal early. It may also run to completion, but output no or “garbage” results</td></tr> <tr><td>Evaluate</td> <td>Review output/console. Use incorrect output to locate sections of code with issues. Debug code (see instructions, below)</td></tr> <tr><td>Fix</td> <td>Modify code to use correct instructions, parameters, and/or labels</td></tr></tbody></table> <p><img src="/images/AssemblyProgramming/Debugging/Functional.png" alt="Function Bug"></p> <p><img src="/images/AssemblyProgramming/Debugging/Functional_Console.png" alt="Function Bug Output"></p> <div class="question-mc" data-v-133aabb1><table class="questionTable" style="width: 100%" data-v-133aabb1><tr data-v-133aabb1><p class="header" data-v-133aabb1><b data-v-133aabb1>Quick Question:</b> Choose One</p> <p class="question" data-v-133aabb1>What is the problem in the above code</p></tr> <tr data-v-133aabb1><td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="A" id="A" data-v-133aabb1>
          'Init' is executed more than once
          <span class="checkmark" data-v-133aabb1></span></label></td> <td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="B" id="B" data-v-133aabb1>
          PUTS is not an actual LC-3 function
          <span class="checkmark" data-v-133aabb1></span></label></td></tr> <tr data-v-133aabb1><td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="C" id="C" data-v-133aabb1>
          The message to print (positive) should be defined at the start of the program
          <span class="checkmark" data-v-133aabb1></span></label></td> <td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="D" id="D" data-v-133aabb1>
          R0 is not loaded with the correct information
          <span class="checkmark" data-v-133aabb1></span></label></td></tr> <!----> <!----></table></div> <h3 id="program-flow"><a href="#program-flow" class="header-anchor">#</a> Program Flow</h3> <p>In this type of error, the assembler does not show an error and the program runs to completion. All instructions executed are expected. The output is incorrect. It may be absent or duplicated</p> <table><thead><tr><th>Process</th> <th>Action</th></tr></thead> <tbody><tr><td>Detect</td> <td>Program will run, but product incorrect output</td></tr> <tr><td>Evaluate</td> <td>Review output/console. Use incorrect output to locate sections of code with issues. Debug code (see instructions, below)</td></tr> <tr><td>Fix</td> <td>Modify code to implement the correct logic, operations, program flow</td></tr></tbody></table> <p><img src="/images/AssemblyProgramming/Debugging/ProgramFlow.png" alt="Function Bug"></p> <p><img src="/images/AssemblyProgramming/Debugging/ProgramFlow_Console.png" alt="Function Bug Output"></p> <div class="question-mc" data-v-133aabb1><table class="questionTable" style="width: 100%" data-v-133aabb1><tr data-v-133aabb1><p class="header" data-v-133aabb1><b data-v-133aabb1>Quick Question:</b> Choose One</p> <p class="question" data-v-133aabb1>What is the problem in the above code</p></tr> <tr data-v-133aabb1><td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="A" id="A" data-v-133aabb1>
          After the 'Pos' message is printed, it needs to 'jump around' the 'Neg' message
          <span class="checkmark" data-v-133aabb1></span></label></td> <td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="B" id="B" data-v-133aabb1>
          'positive' and 'negative' messages are next to each other in memory'
          <span class="checkmark" data-v-133aabb1></span></label></td></tr> <tr data-v-133aabb1><td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="C" id="C" data-v-133aabb1>
          There are 2 'TRAP PUTS' instructions the code
          <span class="checkmark" data-v-133aabb1></span></label></td> <td data-v-133aabb1><label class="PossibleAnswers" data-v-133aabb1><input type="radio" name="radio" value="D" id="D" data-v-133aabb1>
          'Init' code never runs'
          <span class="checkmark" data-v-133aabb1></span></label></td></tr> <!----> <!----></table></div> <p>::: thinkaboutit Consistent Errors
As strange as it may sound, the best bugs are the ones that occur every time the code ot code segment runs. This unusually indicates the error is something relatively easy to fix</p> <p>Bugs that don't occur every time indicates an error causes by some outside influence, such as another code module, driver, or data from an outside source (like the network). These sporadic bugs are more difficult to find because you need them to occur to find them
:::</p> <h2 id="lc-3-debugging-tools"><a href="#lc-3-debugging-tools" class="header-anchor">#</a> LC-3 Debugging Tools</h2> <h3 id="the-program-counter"><a href="#the-program-counter" class="header-anchor">#</a> The Program Counter</h3> <p>Debugging is the process of controlling the Fetch-Decode-Execute (FDE) cycle of assembly instructions</p> <p>As you recall, the last thing to occur in this cycle is the PC update in preparation for the next cycle. The Simulate tool provides control over the PC between FDE cycles by stopping before the next Fetch starts</p> <p>In effect, debugging allows you to review and manipulate all the registers prior to the next Fetch begins</p> <p><img src="/images/AssemblyProgramming/Debugging/DebuggingPC.png" alt="LC-3 Program Counter"></p> <p><strong>PC</strong> - Displays the address of the next instruction that will execute when Fetch begins</p> <p><strong>PC Indicator</strong> - Visual representation of the PC between FDE cycles.</p> <h3 id="execution-control"><a href="#execution-control" class="header-anchor">#</a> Execution Control</h3> <p>When a program is loaded, the PC is set to the address identified in the .ORIG Pseudo Op statement and the FDE cycle is halted. The user must take some action to initiate FDE in either run mode or step mode</p> <p><img src="/images/AssemblyProgramming/Debugging/DebuggingControls_Execution.png" alt="LC-3 Debugging Execution Controls"></p> <p><strong>Run Program</strong> - Places FDE in Run Mode. FDE is started, and runs until a breakpoint or HALT is encountered</p> <p><strong>Step Over</strong> - Executes 1 FDE cycle on the current instruction indicated by the PC/PC Indicator
If the current instruction is a Subroutine call (JSR/JSRR), the entire subroutine is executed, including the RET on the Subroutine. The FDE is halted at the next PC of the main program.</p> <blockquote><p>If the Subroutine calls other Subroutines, they are all executed. Subroutines may have manipulated registers that make have a negative impact on the main program</p></blockquote> <p><strong>Step Into</strong> - Causes the FDE to stop on the first instruction of a Subroutine (JSR/JSRR).
This allows debugging within the Subroutine. Once in the Subroutine, use the Step Over control to execute 1 FDE cycle in the Subroutine.
If used in the main program, it is the same as Step Over</p> <p><strong>Step Out</strong> - Exits a Subroutine and completes the calling instructions FDE.
In the case of stepping through a Subroutine, Step Out will complete the Subroutine and return to the next instruction in the main program after the call to the Subroutine
If this is used on the main program, it will put the FDE cycle back in run mode and run to completion or the next breakpoint</p> <p><strong>Stop Execution</strong> - Terminates FDE run mode, and stops at the start of the next FDE cycles. This control is only active when the FDE is in run mode.
In the case that the program is waiting for user input or for access to write out to the console, the instructions executed value will be incrementing and the run state show Running</p> <h3 id="breakpoints"><a href="#breakpoints" class="header-anchor">#</a> Breakpoints</h3> <p>With breakpoints, the developer can put FDE in run mode until a desired point on the program. Typically, a breakpoint would be set at a point in the code where a known problem occurs. The developer can allow the code before the problem to execute automatically, and have the FDE cycle pause at the break-pointed instruction</p> <p><img src="/images/AssemblyProgramming/Debugging/DebuggingControls_Breakpoints.png" alt="LC-3 Debugging Breakpoint Controls"></p> <p><strong>Breakpoint</strong></p> <table><thead><tr><th>Opens a dialog window to set breakpoints at desired PC</th> <th></th></tr></thead> <tbody><tr><td><ol><li>Select PC in the Location dropdown</li><li>Enter the desired line (instruction memory address)</li><li>Click Add button</li></ol></td> <td><img src="/images/AssemblyProgramming/Debugging/DebuggingControls_Breakpoints_Set.png" alt="LC-3 Debugging Breakpoint Set Control"></td></tr></tbody></table> <p><strong>Toggle Breakpoint</strong></p> <table><thead><tr><th>Adds or removes breakpoint</th></tr></thead> <tbody><tr><td><ol><li>Click on the desired line (instruction memory address) to highlight it in blue</li><li>Click Toggle Breakpoint</li></ol></td></tr></tbody></table> <blockquote><p>Note the red breakpoint circle appears on the line</p></blockquote> <table><thead><tr><th><strong>Manually Add Breakpoint</strong></th> <th></th></tr></thead> <tbody><tr><td>Double click on the desired line to add or remove a breakpoint</td> <td><img src="/images/AssemblyProgramming/Debugging/DebuggingControls_Breakpoints_Manual.png" alt="LC-3 Debugging Manual Breakpoint Controls"></td></tr></tbody></table> <h3 id="manipulating-registers"><a href="#manipulating-registers" class="header-anchor">#</a> Manipulating Registers</h3> <p>While the FDE cycle is stopped between instructions, the registers can be changes alter the program flow or to test a situation.</p> <p><img src="/images/AssemblyProgramming/Debugging/DebuggingControls_Registers.png" alt="LC-3 Debugging Register Controls"></p> <p><strong>Set Value</strong> - Opens a dialog to allow modifying Registers, PC, IR, CC. Once the change or changes have been set in the dialog, clicking OK button will close the dialog and update all modified registers</p> <table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><ol><li>Select desired register in Location</li><li>Select desired register in Location</li><li>Click Apply to set value</li><li>Repeat for other Locations</li><li>Click OK to set all changes and close dialog</li></ol></td> <td><img src="/images/AssemblyProgramming/Debugging/DebuggingControls_Registers_Set.png" alt="LC-3 Debugging Register Controls - et"></td></tr></tbody></table> <p>Set PC to Selected Location - Quick way to set the PC for the next FDE cycle</p> <ol><li>Click on the desired line (instruction memory address) Line will turn blue</li> <li>Click the Set PC to Selected Location button
Note the PC changes to the instruction memory address
Jump To - Allows different parts of memory to be viewed.The drop down contains memory addresses that have been loaded or accessed</li></ol> <ul><li>Select address in dropdown to move to different part of memory</li> <li>Type valid address in box and press enter to move to different part of memory</li></ul> <h3 id="correcting-bug-types"><a href="#correcting-bug-types" class="header-anchor">#</a> Correcting Bug Types</h3> <h4 id="syntactic-2"><a href="#syntactic-2" class="header-anchor">#</a> Syntactic</h4> <p>Misspelling or incorrect use of instructions will cause an error when assembling the program. The assembler will fail to create an .obj file, and will display 1 or more error message
The error message will include the offending line number and 1 or more helpful error codes/explanation</p> <p><strong>How to approach this type of error</strong></p> <ul><li>Focus on the first error. Sometimes, the first error may be causing subsequent errors
<ul><li>Fix the first error and others might disappear</li></ul></li> <li>After implementing a fix to the problem line of code, assemble the program again to see if your fix solved the problem</li> <li>Use the line number in the error code to identify the offending line of code.</li> <li>Review the syntax and parameters for the instruction. Fix any mistakes noticed</li></ul> <h4 id="functional-2"><a href="#functional-2" class="header-anchor">#</a> Functional</h4> <p>While using correct instruction and parameters, but in an incorrect way will cause functional errors during code execution</p> <p>Errors will show themselves as wrong or <em>garbage</em> outputs. Finding and fixing these errors will reply on your understanding of what the program is supposed to do and how the language works</p> <p><strong>How to approach this type of error</strong></p> <ul><li>Determine where the error is likely occurring in the source code</li> <li>Review the instructions being used before and at this section of code</li> <li>If a mistake is obvious, modify the code and assemble/run again</li> <li>If the problem still exists, open the code in the debugger
<ul><li>Set a breakpoint before the error and run to that point</li> <li>Review the state of the variables/environment</li> <li>Predict what should happen when the next instruction executes</li> <li>Step Over that line</li> <li>Review what happened and determine of there was a problem</li> <li>Repeat the Predict-Step Over-Review cycle</li></ul></li></ul> <h4 id="program-flow-2"><a href="#program-flow-2" class="header-anchor">#</a> Program Flow</h4> <p>The approach for Program Flow errors is similar to Function Errors, except you focus on <em>Control Blocks</em> of code that decide and change the flow of the program. Typically If/Else and Looping blocks</p> <p>Errors will appear as the wrong block of code executing, code executing too many times, or not at all</p> <blockquote><p>A common looping error is Looping 1 time too many -or- 1 time too few cycles. A common source for this error is the zero-based nature of computers and programming languages</p></blockquote> <p><strong>How to approach this type of error</strong></p> <ul><li>Determine where the error is likely occurring in the source code</li> <li>Review the <em>Control Block</em> to understand what is supposed to occur</li> <li>If a mistake is obvious, modify the code and assemble/run again</li> <li>If the problem still exists, open the code in the debugger
<ul><li>Set a breakpoint before entering the <em>Control Block</em></li> <li>Review the state of the variables/environment before entering the <em>Control Block</em></li> <li>Predict what should happen when entering the <em>Control Block</em></li> <li>Step Over that line</li> <li>Review what happened and determine of there was a problem</li> <li>Step through the code inside the <em>Control Block</em></li> <li>Verify the correct use of any control variable, such as loop counters</li> <li>Repeat the Predict-Step Over-Review cycle</li></ul></li></ul> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>Bugs will be a common part of writing software. While course work of college may be fairly simple, working in the industry will require understanding and modifying large and complex programs</p> <p>An understanding of the Language Syntax and Function of the program are needed to effectively find and correct errors</p> <p>Tools that build and run programs provide some capabilities to identify errors with the code</p> <ul><li>Assembler/Compiler identified Syntactic Errors</li> <li>IDE Debugging tools allow insight into what is happening when each instruction executes to help find Functional and Program Flow Errors</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.55f9c1c1.js" defer></script><script src="/assets/js/2.23fe0875.js" defer></script><script src="/assets/js/28.a80cbb66.js" defer></script><script src="/assets/js/5.f5b36fc3.js" defer></script><script src="/assets/js/6.316a9004.js" defer></script>
  </body>
</html>
